import{o as _,c as m,E as g,a as h,b as V,d as x,e as w,f as F,g as k,h as o,w as s,i as E,C,j as L,u as v,k as N,R,l as D}from"./vendor.a79eecd7.js";const O=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function u(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(e){if(e.ep)return;e.ep=!0;const l=u(e);fetch(e.href,l)}};O();var b=(n,t)=>{for(const[u,c]of t)n[u]=c;return n};const U={},S={class:"video-frame"};function T(n,t){return _(),m("div",S)}var j=b(U,[["render",T]]);const A={data(){return{quest:{name:"",position:"",department:"",email:"",question:""},btnDisabled:!1,rules:{name:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041E",trigger:"blur"}],position:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",trigger:"blur"}],department:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435",trigger:"blur"}],email:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441",trigger:"blur"},{type:"email",message:"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430",trigger:"blur"}],question:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430",trigger:"blur"}]}}},methods:{submitForm(n){this.btnDisabled=!0,this.$refs[n].validate(t=>{if(t)this.postForm();else return this.btnDisabled=!1,!1})},async postForm(){console.log(this.quest),await(await fetch("/api/guest/post",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({message:this.quest})})).ok&&(g({message:"\u0412\u0430\u0448 \u0432\u043E\u043F\u0440\u043E\u0441 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D",type:"success",duration:5e3}),this.quest.question="",this.btnDisabled=!1)}}},B={class:"guest-form"},P=E("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C");function G(n,t,u,c,e,l){const i=h,d=V,a=x,p=w,y=F,q=k;return _(),m("div",B,[o(q,{model:e.quest,ref:"questForm",rules:e.rules},{default:s(()=>[o(p,null,{default:s(()=>[o(a,{span:24},{default:s(()=>[o(d,{prop:"name"},{default:s(()=>[o(i,{modelValue:e.quest.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.quest.name=r),placeholder:"\u0424\u0418\u041E","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(p,{gutter:30},{default:s(()=>[o(a,{span:12},{default:s(()=>[o(d,{prop:"position"},{default:s(()=>[o(i,{modelValue:e.quest.position,"onUpdate:modelValue":t[1]||(t[1]=r=>e.quest.position=r),placeholder:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{span:12},{default:s(()=>[o(d,{prop:"department"},{default:s(()=>[o(i,{modelValue:e.quest.department,"onUpdate:modelValue":t[2]||(t[2]=r=>e.quest.department=r),placeholder:"\u041F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(p,null,{default:s(()=>[o(a,{span:24},{default:s(()=>[o(d,{prop:"email"},{default:s(()=>[o(i,{modelValue:e.quest.email,"onUpdate:modelValue":t[3]||(t[3]=r=>e.quest.email=r),placeholder:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(p,null,{default:s(()=>[o(a,{span:24},{default:s(()=>[o(d,{prop:"question"},{default:s(()=>[o(i,{modelValue:e.quest.question,"onUpdate:modelValue":t[4]||(t[4]=r=>e.quest.question=r),type:"textarea",autosize:{minRows:5,maxRows:8},rows:5,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(p,null,{default:s(()=>[o(a,{span:24},{default:s(()=>[o(y,{class:"submit-button",disabled:e.btnDisabled,icon:"el-icon-check",onClick:t[5]||(t[5]=r=>l.submitForm("questForm"))},{default:s(()=>[P]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var I=b(A,[["render",G]]);const z={class:"content-container"},J={setup(n){return(t,u)=>(_(),m("div",z,[o(j),o(I)]))}};const K={},M={class:"top-line"};function $(n,t){return _(),m("div",M)}var H=b(K,[["render",$]]);const f=new C("wss://polyus-stream.ru/wss/connection/websocket");f.on("disconnect",function(n){console.log("Disconnected",n)});f.on("connect",function(n){console.log("Connected",n),g({title:"Server",message:"Succesfully connected",type:"success",duration:1e4})});const Q={setup(n){return f.connect(),f.subscribe("guest",function(t){g({title:t.data.title,message:t.data.question,type:"success",duration:1e4})}),(t,u)=>(_(),L(v(N),{locale:v(R)},{default:s(()=>[o(H),o(J)]),_:1},8,["locale"]))}};D(Q).mount("#app");
