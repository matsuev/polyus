import{o as m,c as f,r as c,a as o,w as n,b as q,C as h,E as x,F as V,d as w,e as F}from"./vendor.5f78ba6a.js";const k=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function u(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?l.credentials="include":e.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function d(e){if(e.ep)return;e.ep=!0;const l=u(e);fetch(e.href,l)}};k();var b=(s,t)=>{for(const[u,d]of t)s[u]=d;return s};const N={},C={class:"video-frame"};function L(s,t){return m(),f("div",C)}var D=b(N,[["render",L]]);const E={data(){return{quest:{name:"",position:"",department:"",email:"",question:""},btnDisabled:!1,rules:{name:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041E",trigger:"blur"}],position:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",trigger:"blur"}],department:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435",trigger:"blur"}],email:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441",trigger:"blur"},{type:"email",message:"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430",trigger:"blur"}],question:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430",trigger:"blur"}]}}},methods:{submitForm(s){this.btnDisabled=!0,this.$refs[s].validate(t=>{if(t)this.postForm();else return this.btnDisabled=!1,!1})},async postForm(){console.log(this.quest),await(await fetch("/api/guest/post",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({message:this.quest})})).ok&&(ElNotification({message:"\u0412\u0430\u0448 \u0432\u043E\u043F\u0440\u043E\u0441 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D",type:"success",duration:5e3}),this.quest.question="",this.btnDisabled=!1)}}},O={class:"guest-form"},S=q("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C");function T(s,t,u,d,e,l){const i=c("el-input"),p=c("el-form-item"),a=c("el-col"),_=c("el-row"),v=c("el-button"),y=c("el-form");return m(),f("div",O,[o(y,{model:e.quest,ref:"questForm",rules:e.rules},{default:n(()=>[o(_,null,{default:n(()=>[o(a,{span:24},{default:n(()=>[o(p,{prop:"name"},{default:n(()=>[o(i,{modelValue:e.quest.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.quest.name=r),placeholder:"\u0424\u0418\u041E","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(_,{gutter:30},{default:n(()=>[o(a,{span:12},{default:n(()=>[o(p,{prop:"position"},{default:n(()=>[o(i,{modelValue:e.quest.position,"onUpdate:modelValue":t[1]||(t[1]=r=>e.quest.position=r),placeholder:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),o(a,{span:12},{default:n(()=>[o(p,{prop:"department"},{default:n(()=>[o(i,{modelValue:e.quest.department,"onUpdate:modelValue":t[2]||(t[2]=r=>e.quest.department=r),placeholder:"\u041F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(_,null,{default:n(()=>[o(a,{span:24},{default:n(()=>[o(p,{prop:"email"},{default:n(()=>[o(i,{modelValue:e.quest.email,"onUpdate:modelValue":t[3]||(t[3]=r=>e.quest.email=r),placeholder:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(_,null,{default:n(()=>[o(a,{span:24},{default:n(()=>[o(p,{prop:"question"},{default:n(()=>[o(i,{modelValue:e.quest.question,"onUpdate:modelValue":t[4]||(t[4]=r=>e.quest.question=r),type:"textarea",autosize:{minRows:5,maxRows:8},rows:5,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(_,null,{default:n(()=>[o(a,{span:24},{default:n(()=>[o(v,{class:"submit-button",disabled:e.btnDisabled,icon:"el-icon-check",onClick:t[5]||(t[5]=r=>l.submitForm("questForm"))},{default:n(()=>[S]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}var U=b(E,[["render",T]]);const A={class:"content-container"},R={setup(s){return(t,u)=>(m(),f("div",A,[o(D),o(U)]))}};const j={},G={class:"top-line"};function P(s,t){return m(),f("div",G)}var B=b(j,[["render",P]]);const g=new h("wss://polyus-stream.ru/wss/connection/websocket");g.on("disconnect",function(s){console.log("Disconnected",s)});g.on("connect",function(s){console.log("Connected",s),x({title:"Server",message:"Succesfully connected",type:"success",duration:1e4})});const $={setup(s){return g.connect(),g.subscribe("guest",function(t){ElNotification({title:t.data.title,message:t.data.question,type:"success",duration:1e4})}),(t,u)=>(m(),f(V,null,[o(B),o(R)],64))}};w($).use(F).mount("#app");
