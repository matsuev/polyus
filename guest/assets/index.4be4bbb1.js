import{o as p,c as m,r as g,E as x,a as w,b as F,d as k,e as E,f as $,g as e,w as o,h as v,i as C,C as L,j as N,u as b,k as O,R,l as U}from"./vendor.30d2519b.js";const j=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const t of l)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const t={};return l.integrity&&(t.integrity=l.integrity),l.referrerpolicy&&(t.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?t.credentials="include":l.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function u(l){if(l.ep)return;l.ep=!0;const t=s(l);fetch(l.href,t)}};j();var y=(a,n)=>{for(const[s,u]of n)a[s]=u;return a};const D={},S={class:"video-frame"};function T(a,n){return p(),m("div",S)}var A=y(D,[["render",T]]);const B={class:"guest-form"},P=C("\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C");function I(a){const n=g(!1),s=g({name:"",position:"",department:"",email:"",question:""}),u=g({name:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041E",trigger:"blur"}],position:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C",trigger:"blur"}],department:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435",trigger:"blur"}],email:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u044D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441",trigger:"blur"},{type:"email",message:"\u041D\u0435\u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0430\u0434\u0440\u0435\u0441\u0430",trigger:"blur"}],question:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430",trigger:"blur"}]});return(l,t)=>{const i=x,d=w,c=F,_=k,h=E,V=$;return p(),m("div",B,[e(V,{model:s.value,ref:(r,q)=>{q.questForm=r},rules:u.value},{default:o(()=>[e(_,null,{default:o(()=>[e(c,{span:24},{default:o(()=>[e(d,{prop:"name"},{default:o(()=>[e(i,{modelValue:s.value.name,"onUpdate:modelValue":t[0]||(t[0]=r=>s.value.name=r),placeholder:"\u0424\u0418\u041E","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,{gutter:30},{default:o(()=>[e(c,{span:12},{default:o(()=>[e(d,{prop:"position"},{default:o(()=>[e(i,{modelValue:s.value.position,"onUpdate:modelValue":t[1]||(t[1]=r=>s.value.position=r),placeholder:"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:12},{default:o(()=>[e(d,{prop:"department"},{default:o(()=>[e(i,{modelValue:s.value.department,"onUpdate:modelValue":t[2]||(t[2]=r=>s.value.department=r),placeholder:"\u041F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u0435","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,null,{default:o(()=>[e(c,{span:24},{default:o(()=>[e(d,{prop:"email"},{default:o(()=>[e(i,{modelValue:s.value.email,"onUpdate:modelValue":t[3]||(t[3]=r=>s.value.email=r),placeholder:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u044B\u0439 \u0430\u0434\u0440\u0435\u0441","prefix-icon":"el-icon-edit",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,null,{default:o(()=>[e(c,{span:24},{default:o(()=>[e(d,{prop:"question"},{default:o(()=>[e(i,{modelValue:s.value.question,"onUpdate:modelValue":t[4]||(t[4]=r=>s.value.question=r),type:"textarea",autosize:{minRows:5,maxRows:8},rows:5,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442 \u0432\u043E\u043F\u0440\u043E\u0441\u0430"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(_,null,{default:o(()=>[e(c,{span:24},{default:o(()=>[e(h,{class:"submit-button",disabled:n.value,icon:"el-icon-check",onClick:t[5]||(t[5]=r=>l.submitForm("questForm"))},{default:o(()=>[P]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}const G={methods:{submitForm(a){this.btnDisabled=!0,this.$refs[a].validate(n=>{if(n)this.postForm();else return this.btnDisabled=!1,!1})},async postForm(){await(await fetch("/api/guest/post",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(this.quest)})).ok&&(v({message:"\u0412\u0430\u0448 \u0432\u043E\u043F\u0440\u043E\u0441 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D",type:"success",duration:5e3}),this.quest.question="",this.btnDisabled=!1)}}},z=Object.assign(G,{setup:I});const J={class:"content-container"},K={setup(a){return(n,s)=>(p(),m("div",J,[e(A),e(z)]))}};const M={},H={class:"top-line"};function Q(a,n){return p(),m("div",H)}var W=y(M,[["render",Q]]);const f=new L("wss://polyus-stream.ru/wss/connection/websocket");f.on("disconnect",function(a){console.log("Disconnected",a)});f.on("connect",function(a){console.log("Connected",a),v({title:"Server",message:"Succesfully connected",type:"success",duration:1e4})});const X={setup(a){return f.connect(),f.subscribe("guest",function(n){v({title:n.data.title,message:n.data.question,type:"success",duration:1e4})}),(n,s)=>(p(),N(b(O),{locale:b(R)},{default:o(()=>[e(W),e(K)]),_:1},8,["locale"]))}};U(X).mount("#app");
